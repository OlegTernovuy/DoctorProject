{"ast":null,"code":"import _regeneratorRuntime from\"/Users/olegternovij/Documents/React/doctor-main/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/olegternovij/Documents/React/doctor-main/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import{Form}from\"./Form\";import{useDispatch}from\"react-redux\";import{setUser}from\"../pages/store/slices/userSlice\";import{useNavigate}from\"react-router-dom\";import{getAuth,createUserWithEmailAndPassword}from\"firebase/auth\";import{jsx as _jsx}from\"react/jsx-runtime\";export var SignUp=function SignUp(){var dispatch=useDispatch();var history=useNavigate();var handleRegister=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(email,password){var responce,data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return fetch('/auth/registration',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({username:email,password:password})});case 3:responce=_context.sent;_context.next=6;return responce.json();case 6:data=_context.sent;if(responce.status===200){history(\"/loginPage\");alert(data.message);}else{alert(data.message);}_context.next=14;break;case 10:_context.prev=10;_context.t0=_context[\"catch\"](0);alert(_context.t0);console.log(_context.t0);case 14:case\"end\":return _context.stop();}}},_callee,null,[[0,10]]);}));return function handleRegister(_x,_x2){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsx(Form,{title:\"register\",handleClick:handleRegister});};","map":{"version":3,"names":["Form","useDispatch","setUser","useNavigate","getAuth","createUserWithEmailAndPassword","SignUp","dispatch","history","handleRegister","email","password","fetch","method","headers","body","JSON","stringify","username","responce","json","data","status","alert","message","console","log"],"sources":["/Users/olegternovij/Documents/React/doctor-main/client/src/LogReg/SignUp.jsx"],"sourcesContent":["import { Form } from \"./Form\";\nimport { useDispatch } from \"react-redux\";\nimport { setUser  } from \"../pages/store/slices/userSlice\";\nimport { useNavigate } from \"react-router-dom\";\nimport { getAuth, createUserWithEmailAndPassword } from \"firebase/auth\";\n\n\nexport const SignUp = () => {\n    const dispatch = useDispatch(); \n    const history = useNavigate();\n\n\n    const handleRegister = async (email, password) => {\n      //   const auth = getAuth();\n      //   createUserWithEmailAndPassword(auth, email, password)\n      //   .then((({user}) => {\n      //       dispatch(setUser({\n      //           email: user.email,\n      //           id: user.uid,\n      //           token: user.accessToken,\n      //       }))\n      //   }))\n      //   history(\"/\")\n      //   .catch(() => alert(\"error\"))\n\t\ttry{\n\t\t\tconst responce = await fetch('/auth/registration',{\n\t\t\t\tmethod:'POST',\n\t\t\t\theaders:{\n\t\t\t\t\t'Content-Type':'application/json'\n\t\t\t\t},\n\t\t\t\tbody: JSON.stringify({username:email,password})\n\t\t\t})\n\t\t\tconst data = await responce.json()\n\t\t\t\n\t\t\tif(responce.status === 200){\n\t\t\t\thistory(\"/loginPage\")\n\t\t\t\talert(data.message)\n\t\t\t}else{\n\t\t\t\talert(data.message)\n\t\t\t}\n\n\t\t}catch(err){\n\t\t\talert(err)\n\t\t\tconsole.log(err);\n\t\t}\n\n    }\n    return(\n        <Form\n            title=\"register\"\n            handleClick={handleRegister}\n        />\n    )\n}"],"mappings":"wSAAA,OAASA,IAAT,KAAqB,QAArB,CACA,OAASC,WAAT,KAA4B,aAA5B,CACA,OAASC,OAAT,KAAyB,iCAAzB,CACA,OAASC,WAAT,KAA4B,kBAA5B,CACA,OAASC,OAAT,CAAkBC,8BAAlB,KAAwD,eAAxD,C,2CAGA,MAAO,IAAMC,OAAM,CAAG,QAATA,OAAS,EAAM,CACxB,GAAMC,SAAQ,CAAGN,WAAW,EAA5B,CACA,GAAMO,QAAO,CAAGL,WAAW,EAA3B,CAGA,GAAMM,eAAc,4FAAG,iBAAOC,KAAP,CAAcC,QAAd,4KAaDC,MAAK,CAAC,oBAAD,CAAsB,CACjDC,MAAM,CAAC,MAD0C,CAEjDC,OAAO,CAAC,CACP,eAAe,kBADR,CAFyC,CAKjDC,IAAI,CAAEC,IAAI,CAACC,SAAL,CAAe,CAACC,QAAQ,CAACR,KAAV,CAAgBC,QAAQ,CAARA,QAAhB,CAAf,CAL2C,CAAtB,CAbJ,QAalBQ,QAbkB,qCAoBLA,SAAQ,CAACC,IAAT,EApBK,QAoBlBC,IApBkB,eAsBxB,GAAGF,QAAQ,CAACG,MAAT,GAAoB,GAAvB,CAA2B,CAC1Bd,OAAO,CAAC,YAAD,CAAP,CACAe,KAAK,CAACF,IAAI,CAACG,OAAN,CAAL,CACA,CAHD,IAGK,CACJD,KAAK,CAACF,IAAI,CAACG,OAAN,CAAL,CACA,CA3BuB,iFA8BxBD,KAAK,aAAL,CACAE,OAAO,CAACC,GAAR,cA/BwB,qEAAH,kBAAdjB,eAAc,gDAApB,CAmCA,mBACI,KAAC,IAAD,EACI,KAAK,CAAC,UADV,CAEI,WAAW,CAAEA,cAFjB,EADJ,CAMH,CA9CM"},"metadata":{},"sourceType":"module"}